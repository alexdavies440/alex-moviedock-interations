<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:fragment="head">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link th:href="${theme.getCssPath()}" rel="stylesheet" />
    <!--    Bootstrap dependencies-->
<!--    &lt;!&ndash; Latest compiled and minified CSS &ndash;&gt;-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <title th:text="${title}">Moviedock</title>
</head>
<body>
    <div th:fragment="header" id="navigation">
        <nav th:attr="class=${theme.getNavMode()}">
            <div class="container-fluid">
                <div>
                    <ul class="nav navbar-nav navbar-left">
                        <li><a href="/">HOME</a></li>
                        <li sec:authorize="isAuthenticated()">
                            <a href="/profile">MY PROFILE</a></li>
                        <li sec:authorize="isAuthenticated()" class="settings">
                            <a class="dropdown-toggle" href="#" role="button" id="settings-menu" data-toggle="dropdown" >
                                <span class="glyphicon glyphicon-cog"></span>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="settings-menu">
                                <li><a class="dropdown-item" href="/settings/change-theme">CUSTOMIZE THEME</a></li>
                                <li><a class="dropdown-item" href="/settings/update-email">UPDATE EMAIL</a></li>
                                <li><a class="dropdown-item" href="/settings/change-password">CHANGE PASSWORD</a></li>
                                <li><a class="dropdown-item" href="/settings/delete-account">DELETE ACCOUNT</a></li>
                            </ul>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a class="dropdown-toggle" href="#" role="button" id="search-menu" data-toggle="dropdown" >
                                <span class="glyphicon glyphicon-search"></span>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="search-menu">
                                <li><a class="dropdown-item" href="/search">SEARCH MOVIES</a></li>
                                <li><a class="dropdown-item" href="/user_search">SEARCH USERS</a></li>
                            </ul>
                        </li>
                        <li>
                            <a sec:authorize="!isAuthenticated()" th:href="@{/signin}">SIGN IN</a>
                            <a sec:authorize="isAuthenticated()" th:href="@{/signout}">SIGN OUT</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</body>
</html>